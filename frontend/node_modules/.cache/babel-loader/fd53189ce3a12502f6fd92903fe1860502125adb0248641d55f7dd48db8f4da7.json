{"ast":null,"code":"import axios from \"axios\";\nimport URL_BASE from \"../config/config\";\nimport { store } from \"@/main.js\";\nfunction config() {\n  return {\n    headers: {\n      Authorization: `Bearer ${store.state.token}`\n    }\n  };\n}\nasync function get(url) {\n  let response;\n  console.log(store.state.token);\n  await axios.get(`${URL_BASE}/${url}`, config()).then(resp => {\n    response = resp.data;\n  }).catch(error => {\n    response = error;\n  });\n  return response;\n}\nasync function post(url, body, config) {\n  let response;\n  await axios.post(`${URL_BASE}/${url}`, body, config).then(resp => {\n    response = resp.data;\n  }).catch(error => {\n    response = error.response.data;\n  });\n  return response;\n}\nexport default {\n  post,\n  get\n};","map":{"version":3,"names":["axios","URL_BASE","store","config","headers","Authorization","state","token","get","url","response","console","log","then","resp","data","catch","error","post","body"],"sources":["C:/Users/Adonai/Documents/Projetos/netflix/frontend/src/common/api/api.js"],"sourcesContent":["import axios from \"axios\";\r\nimport URL_BASE from \"../config/config\";\r\nimport { store } from \"@/main.js\";\r\n\r\nfunction config(){\r\n    return { headers: { Authorization: `Bearer ${store.state.token}` }}\r\n}\r\n\r\nasync function get(url){\r\n    let response;\r\n    console.log(store.state.token)\r\n    await axios.get(`${URL_BASE}/${url}`, config()).then(resp => {\r\n        response = resp.data\r\n    }).catch(error => {\r\n        response = error\r\n    })\r\n    return response\r\n}\r\n\r\nasync function post(url, body, config){\r\n    let response;\r\n\r\n    await axios.post(`${URL_BASE}/${url}`, body, config).then(resp => {\r\n        response = resp.data\r\n    }).catch(error => {\r\n        response = error.response.data\r\n    })\r\n    \r\n    return response\r\n}\r\n\r\nexport default { post, get }"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,QAAQ,MAAM,kBAAkB;AACvC,SAASC,KAAK,QAAQ,WAAW;AAEjC,SAASC,MAAMA,CAAA,EAAE;EACb,OAAO;IAAEC,OAAO,EAAE;MAAEC,aAAa,EAAG,UAASH,KAAK,CAACI,KAAK,CAACC,KAAM;IAAE;EAAC,CAAC;AACvE;AAEA,eAAeC,GAAGA,CAACC,GAAG,EAAC;EACnB,IAAIC,QAAQ;EACZC,OAAO,CAACC,GAAG,CAACV,KAAK,CAACI,KAAK,CAACC,KAAK,CAAC;EAC9B,MAAMP,KAAK,CAACQ,GAAG,CAAE,GAAEP,QAAS,IAAGQ,GAAI,EAAC,EAAEN,MAAM,EAAE,CAAC,CAACU,IAAI,CAACC,IAAI,IAAI;IACzDJ,QAAQ,GAAGI,IAAI,CAACC,IAAI;EACxB,CAAC,CAAC,CAACC,KAAK,CAACC,KAAK,IAAI;IACdP,QAAQ,GAAGO,KAAK;EACpB,CAAC,CAAC;EACF,OAAOP,QAAQ;AACnB;AAEA,eAAeQ,IAAIA,CAACT,GAAG,EAAEU,IAAI,EAAEhB,MAAM,EAAC;EAClC,IAAIO,QAAQ;EAEZ,MAAMV,KAAK,CAACkB,IAAI,CAAE,GAAEjB,QAAS,IAAGQ,GAAI,EAAC,EAAEU,IAAI,EAAEhB,MAAM,CAAC,CAACU,IAAI,CAACC,IAAI,IAAI;IAC9DJ,QAAQ,GAAGI,IAAI,CAACC,IAAI;EACxB,CAAC,CAAC,CAACC,KAAK,CAACC,KAAK,IAAI;IACdP,QAAQ,GAAGO,KAAK,CAACP,QAAQ,CAACK,IAAI;EAClC,CAAC,CAAC;EAEF,OAAOL,QAAQ;AACnB;AAEA,eAAe;EAAEQ,IAAI;EAAEV;AAAI,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}