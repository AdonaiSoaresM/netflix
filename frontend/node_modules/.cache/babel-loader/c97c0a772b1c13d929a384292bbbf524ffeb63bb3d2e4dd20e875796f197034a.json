{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport useMovieTarget from \"@/hooks/useMovieTarget\";\nimport URL_BASE from \"@/common/config/config\";\nimport { useToast } from \"vue-toastification\";\nconst toast = useToast();\nconst event = useMovieTarget();\nexport default {\n  name: \"MovieTarget\",\n  data() {\n    return {\n      toggle: false,\n      movie: null,\n      mymovie: false,\n      urlBlob: null\n    };\n  },\n  methods: {\n    getVote() {\n      let vote = this.movie.vote_average;\n      if (vote.toString().includes(\".\")) {\n        return vote;\n      } else {\n        return vote + \".0\";\n      }\n    },\n    async toggleMovie(param) {\n      this.animateHeader();\n      this.movie = {\n        ...param.movie\n      };\n      this.mymovie = param.mymovie;\n      await this.sendURLBackground();\n      this.toggle = true;\n    },\n    animateHeader() {\n      const home = document.querySelector(\".home\");\n      const header = document.querySelector(\".header\");\n      home.addEventListener(\"scroll\", event => {\n        if (event.target.scrollTop < 100) {\n          header.style.position = \"fixed\";\n          header.style.backgroundColor = \"\";\n        } else {\n          header.style.backgroundColor = \"rgb(25, 25, 25)\";\n        }\n      });\n      home.scrollTo(0, 1000);\n      header.style.position = \"fixed\";\n      header.style.backgroundColor = \"\";\n      home.scroll(0, 0);\n    },\n    async sendURLBackground() {\n      if (this.mymovie) {\n        await this.setBlobImage();\n      } else {\n        this.urlBlob = `https://image.tmdb.org/t/p/original${this.movie.backdrop_path}`;\n      }\n    },\n    async setBlobImage() {\n      await fetch(`${URL_BASE}/movie/files/${this.movie.id}/image-background.jpg`, {\n        headers: {\n          Authorization: `Bearer ${window.localStorage.getItem(\"token\")}`\n        }\n      }).then(response => {\n        response.blob().then(blob => {\n          this.urlBlob = URL.createObjectURL(blob);\n        });\n      });\n    },\n    goToMovie() {\n      if (!this.mymovie) {\n        toast.warning(\"Você só pode assistir os seus filmes.\");\n        return;\n      }\n      this.$router.push({\n        name: \"Movie\",\n        query: {\n          id: this.movie.id\n        }\n      });\n    }\n  },\n  mounted() {\n    event.listen(this.toggleMovie);\n  }\n};","map":{"version":3,"names":["useMovieTarget","URL_BASE","useToast","toast","event","name","data","toggle","movie","mymovie","urlBlob","methods","getVote","vote","vote_average","toString","includes","toggleMovie","param","animateHeader","sendURLBackground","home","document","querySelector","header","addEventListener","target","scrollTop","style","position","backgroundColor","scrollTo","scroll","setBlobImage","backdrop_path","fetch","id","headers","Authorization","window","localStorage","getItem","then","response","blob","URL","createObjectURL","goToMovie","warning","$router","push","query","mounted","listen"],"sources":["C:\\Users\\Adonai\\Documents\\Projetos\\netflix\\frontend\\src\\components\\MovieTarget.vue"],"sourcesContent":["<template>\r\n  <div\r\n    v-if=\"toggle\"\r\n    class=\"movie-target\"\r\n    id=\"movie-target\"\r\n    :style=\"`\r\n    background-image: url(${urlBlob});\r\n    `\"\r\n  >\r\n    <div class=\"overlay-x\">\r\n      <div class=\"overlay-y\">\r\n        <div class=\"movie-info\">\r\n          <p class=\"title\">{{ this.movie.original_title }}</p>\r\n          <div class=\"info\">\r\n            <p class=\"vote\">{{ getVote() }} pontos</p>\r\n            <p class=\"year\">2022</p>\r\n          </div>\r\n          <p class=\"overview\">\r\n            {{ this.movie.overview }}\r\n          </p>\r\n          <div class=\"buttons\">\r\n            <button class=\"play\" @click=\"goToMovie\">Assistir</button>\r\n            <button class=\"list\">+ Minha Lista</button>\r\n          </div>\r\n          <p class=\"genre\">\r\n            <strong>Gêneros: </strong> Drama, Comédia, Animação\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport useMovieTarget from \"@/hooks/useMovieTarget\";\r\nimport URL_BASE from \"@/common/config/config\";\r\nimport { useToast } from \"vue-toastification\";\r\n\r\nconst toast = useToast();\r\nconst event = useMovieTarget();\r\n\r\nexport default {\r\n  name: \"MovieTarget\",\r\n  data() {\r\n    return {\r\n      toggle: false,\r\n      movie: null,\r\n      mymovie: false,\r\n      urlBlob: null,\r\n    };\r\n  },\r\n  methods: {\r\n    getVote() {\r\n      let vote = this.movie.vote_average;\r\n      if (vote.toString().includes(\".\")) {\r\n        return vote;\r\n      } else {\r\n        return vote + \".0\";\r\n      }\r\n    },\r\n    async toggleMovie(param) {\r\n      this.animateHeader();\r\n      this.movie = { ...param.movie };\r\n      this.mymovie = param.mymovie;\r\n      await this.sendURLBackground();\r\n      this.toggle = true;\r\n    },\r\n    animateHeader() {\r\n      const home = document.querySelector(\".home\");\r\n      const header = document.querySelector(\".header\");\r\n      home.addEventListener(\"scroll\", (event) => {\r\n        if (event.target.scrollTop < 100) {\r\n          header.style.position = \"fixed\";\r\n          header.style.backgroundColor = \"\";\r\n        } else {\r\n          header.style.backgroundColor = \"rgb(25, 25, 25)\";\r\n        }\r\n      });\r\n      home.scrollTo(0, 1000);\r\n      header.style.position = \"fixed\";\r\n      header.style.backgroundColor = \"\";\r\n      home.scroll(0, 0);\r\n    },\r\n    async sendURLBackground() {\r\n      if (this.mymovie) {\r\n        await this.setBlobImage();\r\n      } else {\r\n        this.urlBlob = `https://image.tmdb.org/t/p/original${this.movie.backdrop_path}`;\r\n      }\r\n    },\r\n    async setBlobImage() {\r\n      await fetch(\r\n        `${URL_BASE}/movie/files/${this.movie.id}/image-background.jpg`,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${window.localStorage.getItem(\"token\")}`,\r\n          },\r\n        }\r\n      ).then((response) => {\r\n        response.blob().then((blob) => {\r\n          this.urlBlob = URL.createObjectURL(blob);\r\n        });\r\n      });\r\n    },\r\n    goToMovie() {\r\n      if (!this.mymovie) {\r\n        toast.warning(\"Você só pode assistir os seus filmes.\");\r\n        return;\r\n      }\r\n      this.$router.push({\r\n        name: \"Movie\",\r\n        query: {\r\n          id: this.movie.id,\r\n        },\r\n      });\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    event.listen(this.toggleMovie);\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.movie-target {\r\n  width: 100%;\r\n  height: 100%;\r\n  background-size: auto 90%;\r\n  background-position: right top 0%;\r\n  background-repeat: no-repeat;\r\n}\r\n\r\n.movie-info {\r\n  padding-top: 200px;\r\n}\r\n\r\n.title {\r\n  color: rgba(255, 255, 255, 0.948);\r\n  font-size: 50px;\r\n  font-weight: 800;\r\n  margin: 0px;\r\n}\r\n\r\n.info {\r\n  display: flex;\r\n  font-weight: 600;\r\n  gap: 18px;\r\n  margin-top: 20px;\r\n}\r\n\r\n.overview {\r\n  width: 700px;\r\n  color: rgb(164, 158, 158);\r\n}\r\n\r\n.buttons {\r\n  display: flex;\r\n  gap: 10px;\r\n  margin-top: 60px;\r\n}\r\n\r\n.buttons button {\r\n  padding: 10px 15px;\r\n  font-weight: 600;\r\n  border: none;\r\n  border-radius: 5px;\r\n  font-size: 16px;\r\n  cursor: pointer;\r\n}\r\n\r\nbutton.play {\r\n  background-color: rgb(255, 255, 255, 0.948);\r\n  color: #000;\r\n}\r\n\r\nbutton.list {\r\n  color: rgb(164, 158, 158);\r\n  background-color: rgb(44, 42, 42);\r\n}\r\n\r\nbutton:hover {\r\n  background-color: #686767;\r\n}\r\n\r\n.genre {\r\n  color: rgb(164, 158, 158);\r\n  margin-top: 30px;\r\n}\r\n\r\n.vote {\r\n  color: rgb(80, 161, 80);\r\n}\r\n\r\n.year {\r\n  color: #fff;\r\n  font-weight: 600;\r\n}\r\n.overlay-x {\r\n  width: inherit;\r\n  height: inherit;\r\n  background: linear-gradient(to right, rgb(25, 25, 25) 25%, transparent 90%);\r\n}\r\n\r\n.overlay-y {\r\n  width: inherit;\r\n  height: inherit;\r\n  background: linear-gradient(to top, rgb(25, 25, 25) 10%, transparent 90%);\r\n  padding-left: 30px;\r\n}\r\n</style>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}