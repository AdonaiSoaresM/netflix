{"ast":null,"code":"import api from \"../api/api\";\nimport { store } from \"@/main.js\";\nasync function login(body) {\n  const response = await api.post(\"user/login\", body);\n  if (response.sucess) store.commit(\"setToken\", response.data.token);\n  return response;\n}\nasync function validateToken() {\n  let response;\n  await api.get(\"user/validate\").then(resp => {\n    if (resp.status) response = true;\n  }).catch(() => {\n    response = false;\n  });\n  return response;\n}\nexport default {\n  login,\n  validateToken\n};","map":{"version":3,"names":["api","store","login","body","response","post","sucess","commit","data","token","validateToken","get","then","resp","status","catch"],"sources":["C:/Users/Adonai/Documents/Projetos/netflix/frontend/src/common/service/jwt.service.js"],"sourcesContent":["import api from \"../api/api\";\r\nimport { store } from \"@/main.js\";\r\n\r\nasync function login(body){\r\n    const response = await api.post(\"user/login\", body)\r\n    \r\n    if(response.sucess) \r\n       store.commit(\"setToken\", response.data.token)\r\n\r\n    return response\r\n}\r\n\r\nasync function validateToken(){\r\n    let response;\r\n    await api.get(\"user/validate\")\r\n        .then(resp =>  {\r\n            if(resp.status) response = true})\r\n        .catch(() => {\r\n            response = false});\r\n\r\n    return response\r\n    \r\n}\r\n\r\nexport default { login, validateToken}\r\n\r\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,YAAY;AAC5B,SAASC,KAAK,QAAQ,WAAW;AAEjC,eAAeC,KAAKA,CAACC,IAAI,EAAC;EACtB,MAAMC,QAAQ,GAAG,MAAMJ,GAAG,CAACK,IAAI,CAAC,YAAY,EAAEF,IAAI,CAAC;EAEnD,IAAGC,QAAQ,CAACE,MAAM,EACfL,KAAK,CAACM,MAAM,CAAC,UAAU,EAAEH,QAAQ,CAACI,IAAI,CAACC,KAAK,CAAC;EAEhD,OAAOL,QAAQ;AACnB;AAEA,eAAeM,aAAaA,CAAA,EAAE;EAC1B,IAAIN,QAAQ;EACZ,MAAMJ,GAAG,CAACW,GAAG,CAAC,eAAe,CAAC,CACzBC,IAAI,CAACC,IAAI,IAAK;IACX,IAAGA,IAAI,CAACC,MAAM,EAAEV,QAAQ,GAAG,IAAI;EAAA,CAAC,CAAC,CACpCW,KAAK,CAAC,MAAM;IACTX,QAAQ,GAAG,KAAK;EAAA,CAAC,CAAC;EAE1B,OAAOA,QAAQ;AAEnB;AAEA,eAAe;EAAEF,KAAK;EAAEQ;AAAa,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}