{"ast":null,"code":"import useModalForm from '@/hooks/useModalForm';\nimport movieService from '@/common/service/movie.service';\nimport URL_BASE from '@/common/config/config';\nimport useMovieTarget from \"@/hooks/useMovieTarget\";\nconst movieTarget = useMovieTarget();\nconst modal = useModalForm();\nexport default {\n  name: \"MyMovies\",\n  data() {\n    return {\n      movies: [],\n      urlBlob: [],\n      urlBase: URL_BASE\n    };\n  },\n  methods: {\n    addMovie() {\n      modal.open();\n    },\n    setMovieTarget(movie) {\n      movieTarget.open(movie, true);\n    },\n    async getSrc() {\n      this.movies.forEach(async (movie, index) => {\n        await fetch(`${URL_BASE}/movie/files/${movie.id}/image-preview.jpg`, {\n          headers: {\n            Authorization: `Bearer ${window.localStorage.getItem(\"token\")}`\n          }\n        }).then(response => {\n          response.blob().then(blob => {\n            const url = URL.createObjectURL(blob);\n            this.urlBlob[index] = url;\n          });\n        });\n      });\n    }\n  },\n  async created() {\n    var response = await movieService.get();\n    this.movies = response.data;\n    this.getSrc();\n  }\n};","map":{"version":3,"names":["useModalForm","movieService","URL_BASE","useMovieTarget","movieTarget","modal","name","data","movies","urlBlob","urlBase","methods","addMovie","open","setMovieTarget","movie","getSrc","forEach","index","fetch","id","headers","Authorization","window","localStorage","getItem","then","response","blob","url","URL","createObjectURL","created","get"],"sources":["C:\\Users\\Adonai\\Documents\\Projetos\\netflix\\frontend\\src\\components\\MyMovies.vue"],"sourcesContent":["<template>\r\n    <div class=\"movie-row\">\r\n        <button @click=\"scrollAnimation(-15)\">﹤</button>\r\n        <div class=\"movies\" ref=\"movies\">\r\n            <div class=\"movie-item\" v-for=\"(movie, index) in movies\" :key=\"index\">\r\n                <img  :ref=\"`item${index}`\" alt=\"movie\" :src=\"urlBlob[index]\" @click=\"setMovieTarget(movie)\">\r\n            </div>\r\n            <div class=\"movie-item\">\r\n                <div class=\"addMovie\" @click=\"addMovie\">+</div>\r\n            </div>\r\n        </div>\r\n        <button class=\"buttonNext\" @click=\"scrollAnimation(15)\"> ﹥</button>\r\n    </div>\r\n</template>\r\n<script>\r\nimport useModalForm from '@/hooks/useModalForm';\r\nimport movieService from '@/common/service/movie.service';\r\nimport URL_BASE from '@/common/config/config';\r\nimport useMovieTarget from \"@/hooks/useMovieTarget\";\r\n\r\n\r\nconst movieTarget = useMovieTarget();\r\nconst modal  = useModalForm();\r\n\r\nexport default {\r\n    name: \"MyMovies\",\r\n    data() {\r\n        return {\r\n            movies: [],\r\n            urlBlob: [],\r\n            urlBase: URL_BASE\r\n        }\r\n    },\r\n    methods: {\r\n        addMovie(){\r\n            modal.open()\r\n        },\r\n        setMovieTarget(movie){\r\n            movieTarget.open(movie, true)\r\n        },\r\n        async getSrc(){\r\n            this.movies.forEach(async (movie, index) => {\r\n                await fetch(`${URL_BASE}/movie/files/${movie.id}/image-preview.jpg`, {\r\n                    headers: { Authorization: `Bearer ${window.localStorage.getItem(\"token\")}` }\r\n                }).then(response => {\r\n                    response.blob().then(blob => {\r\n                        const url = URL.createObjectURL(blob)\r\n                        this.urlBlob[index] = url\r\n                    });\r\n                })\r\n\r\n            })\r\n\r\n        }\r\n    },\r\n    async created(){\r\n        var response = await movieService.get();\r\n        this.movies = response.data;\r\n        this.getSrc()\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n.movie-row {\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n\r\n.addMovie {\r\n    width: 162px;\r\n    height: 270px;\r\n    border: 2px solid #FFF;\r\n    border-radius: 5px;\r\n    display: flex;\r\n    align-items: center;\r\n    color: #FFF;\r\n    font-size: 50px;\r\n    cursor: pointer;\r\n    justify-content: center;\r\n}\r\n.addMovie:hover{\r\n    background-color: rgba(169, 169, 169, 0.178);\r\n}\r\n\r\nbutton {\r\n    z-index: 99;\r\n    display: block;\r\n    height: 200px;\r\n    border: none;\r\n    color: white;\r\n    width: 30px;\r\n    font-size: 30px;\r\n    padding: 0px;\r\n    font-weight: 1000;\r\n    background-color: rgba(0, 0, 0, 0.801);\r\n    float: left;\r\n    opacity: 0;\r\n    transition: all ease 0.5s;\r\n}\r\n.buttonNext {\r\n    float: right;\r\n}\r\n\r\n.movies{\r\n    padding-left: 0px;\r\n    overflow: auto;\r\n    display: flex;\r\n    gap: 20px;\r\n    align-items: center;\r\n    height: 280px;\r\n    width: 100vw;\r\n}\r\n\r\n.movie-row:hover button {\r\n    opacity: 1;\r\n}\r\n.movie-item {\r\n    height: 280px;\r\n    display: flex;\r\n    align-items: center ;\r\n}\r\n\r\n.movie-item * {\r\n    width: 180px;\r\n    transform: scale(0.9);\r\n    transition: all ease 0.3s;\r\n    cursor: pointer;\r\n}\r\n.movie-item *:hover {\r\n    transform: scale(1);\r\n}\r\n    \r\n</style>"],"mappings":"AAeA,OAAOA,YAAW,MAAO,sBAAsB;AAC/C,OAAOC,YAAW,MAAO,gCAAgC;AACzD,OAAOC,QAAO,MAAO,wBAAwB;AAC7C,OAAOC,cAAa,MAAO,wBAAwB;AAGnD,MAAMC,WAAU,GAAID,cAAc,EAAE;AACpC,MAAME,KAAI,GAAKL,YAAY,EAAE;AAE7B,eAAe;EACXM,IAAI,EAAE,UAAU;EAChBC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,MAAM,EAAE,EAAE;MACVC,OAAO,EAAE,EAAE;MACXC,OAAO,EAAER;IACb;EACJ,CAAC;EACDS,OAAO,EAAE;IACLC,QAAQA,CAAA,EAAE;MACNP,KAAK,CAACQ,IAAI,EAAC;IACf,CAAC;IACDC,cAAcA,CAACC,KAAK,EAAC;MACjBX,WAAW,CAACS,IAAI,CAACE,KAAK,EAAE,IAAI;IAChC,CAAC;IACD,MAAMC,MAAMA,CAAA,EAAE;MACV,IAAI,CAACR,MAAM,CAACS,OAAO,CAAC,OAAOF,KAAK,EAAEG,KAAK,KAAK;QACxC,MAAMC,KAAK,CAAE,GAAEjB,QAAS,gBAAea,KAAK,CAACK,EAAG,oBAAmB,EAAE;UACjEC,OAAO,EAAE;YAAEC,aAAa,EAAG,UAASC,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAE;UAAE;QAC/E,CAAC,CAAC,CAACC,IAAI,CAACC,QAAO,IAAK;UAChBA,QAAQ,CAACC,IAAI,EAAE,CAACF,IAAI,CAACE,IAAG,IAAK;YACzB,MAAMC,GAAE,GAAIC,GAAG,CAACC,eAAe,CAACH,IAAI;YACpC,IAAI,CAACnB,OAAO,CAACS,KAAK,IAAIW,GAAE;UAC5B,CAAC,CAAC;QACN,CAAC;MAEL,CAAC;IAEL;EACJ,CAAC;EACD,MAAMG,OAAOA,CAAA,EAAE;IACX,IAAIL,QAAO,GAAI,MAAM1B,YAAY,CAACgC,GAAG,EAAE;IACvC,IAAI,CAACzB,MAAK,GAAImB,QAAQ,CAACpB,IAAI;IAC3B,IAAI,CAACS,MAAM,EAAC;EAChB;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}